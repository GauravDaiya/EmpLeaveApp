import{a as w,b as Y,c as Z,d as D,e as ee,f as te,g as ie,h as oe,i as ne,j as me,k as I,l as ae,m as le,n as re,o as pe,p as de,q as ce,r as se,s as ue,t as fe,u as ye,v as Ee,w as Ce,x as _e,y as ve}from"./chunk-H66Y4HPM.js";import{b as L,c as p,e as U,f as z,i as J,j as K,k as Q,l as W,n as X}from"./chunk-6NY4X2E6.js";import{h as x,k as j}from"./chunk-PKFCH7MB.js";import"./chunk-EJJBCPAK.js";import{Ab as s,Cb as q,Fb as E,Gc as P,Hb as A,Rb as m,Sb as C,Tb as f,Ua as a,Va as y,_ as S,a as V,b as N,db as H,ha as h,ia as b,jb as r,mb as B,nb as d,pa as R,qa as F,tb as k,ub as $,vb as O,wb as i,xb as n,yb as u,zb as c}from"./chunk-R6C27HHB.js";function Ie(e,t){if(e&1&&(i(0,"mat-option",17),m(1),n()),e&2){let o=t.$implicit;d("value",o.deptId),a(),C(o.deptName)}}function Me(e,t){if(e&1&&(i(0,"mat-option",17),m(1),n()),e&2){let o=t.$implicit;d("value",o),a(),C(o)}}var M=class e{constructor(t,o,l){this.fb=t;this.empSrv=o;this.router=l;this.employeeForm=this.fb.group({employeeName:["",p.required],contactNo:["",[p.required,p.pattern("^[0-9]{10}$")]],emailId:["",[p.required,p.email]],deptId:["",[p.required]],password:["",[p.required]],gender:["",[p.required]],role:["",[p.required]]})}hide=H(!0);clickEvent(t){this.hide.set(!this.hide()),t.stopPropagation()}employeeForm;RolesData;DepartmentData;isEditMode;EditEmployeeData=null;ngOnDestroy(){this.empSrv.ResetEmployeeEditMode()}ngOnInit(){this.empSrv.EditStatus$.subscribe(t=>{this.isEditMode=t}),this.empSrv.employeeToEdit$.subscribe(t=>{t&&(this.EditEmployeeData=t,this.employeeForm.patchValue(N(V({},this.EditEmployeeData),{gender:this.EditEmployeeData.gender.toLowerCase()})),console.log("Patched Employee Data:",this.EditEmployeeData))}),this.empSrv.GetAllRoles().subscribe(t=>{this.RolesData=t.data}),this.empSrv.GetAllDepartments().subscribe(t=>{this.DepartmentData=t.data})}submitForm(){if(this.employeeForm.valid)if(this.isEditMode){let t=N(V({},this.employeeForm.value),{employeeId:this.EditEmployeeData.employeeId});console.log(t),this.empSrv.UpdateEmployee(t).subscribe(o=>{this.router.navigate(["/dashboard/view-employee"])})}else this.empSrv.CreateNewEmp(this.employeeForm.value).subscribe(t=>{t&&this.router.navigate(["/dashboard/view-employee"])},t=>{console.error("Error adding employee:",t)});else alert("Form is invalid")}static \u0275fac=function(o){return new(o||e)(y(W),y(w),y(x))};static \u0275cmp=h({type:e,selectors:[["app-create-employee"]],decls:56,vars:7,consts:[[1,"col-12","my-3",3,"ngSubmit","formGroup"],[1,"mx-3","my-4"],[1,"row","justify-content-between","my-3","mx-0","flex-wrap"],[1,"col-3","mx-3"],[1,"w-100"],["matInput","","formControlName","employeeName"],["type","email","formControlName","emailId","matInput","","placeholder","Ex. pat@example.com"],["matTextPrefix",""],["type","tel","formControlName","contactNo","matInput","","placeholder","555-555-1234"],["matSuffix",""],["aria-label","Select an option","formControlName","gender",1,"w-100"],["value","male"],["value","female"],["value","other"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["formControlName","deptId"],[3,"value"],["formControlName","role"],[1,"my-2"],["mat-stroked-button","",1,"my-3"]],template:function(o,l){o&1&&(i(0,"form",0),E("ngSubmit",function(){return l.submitForm()}),i(1,"h4",1),m(2),n(),i(3,"div",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),m(7,"Employee Name"),n(),u(8,"input",5),n()(),i(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),m(12,"Employee Email"),n(),u(13,"input",6),n()(),i(14,"div",3)(15,"mat-form-field",4)(16,"mat-label"),m(17,"Employee Contact"),n(),i(18,"span",7),m(19,"+1 \xA0"),n(),u(20,"input",8),i(21,"mat-icon",9),m(22,"mode_edit"),n()()(),i(23,"div",3)(24,"mat-radio-group",10)(25,"mat-radio-button",11),m(26,"Male"),n(),i(27,"mat-radio-button",12),m(28,"Female"),n(),i(29,"mat-radio-button",13),m(30,"Other"),n()()(),i(31,"div",3)(32,"mat-form-field",4)(33,"mat-label"),m(34,"Enter your password"),n(),u(35,"input",14),i(36,"button",15),E("click",function(v){return l.clickEvent(v)}),i(37,"mat-icon"),m(38),n()()()(),i(39,"div",3)(40,"mat-form-field",4)(41,"mat-label"),m(42,"Emploee Department"),n(),i(43,"mat-select",16),$(44,Ie,2,2,"mat-option",17,k),n()()(),i(46,"div",3)(47,"mat-form-field",4)(48,"mat-label"),m(49,"Select Emploee Role"),n(),i(50,"mat-select",18),$(51,Me,2,2,"mat-option",17,k),n()()(),i(53,"div",19)(54,"button",20),m(55),n()()()()),o&2&&(d("formGroup",l.employeeForm),a(2),C(l.isEditMode?"Edit Employee Details:":"Add Emplyee Details:"),a(33),d("type",l.hide()?"password":"text"),a(),B("aria-label","Hide password")("aria-pressed",l.hide()),a(2),C(l.hide()?"visibility_off":"visibility"),a(6),O(l.DepartmentData),a(7),O(l.RolesData),a(4),C(l.isEditMode?"Edit Employee":"Create New Employee"))},dependencies:[J,L,U,z,K,Q,oe,ee,te,ie,ne,Y,me,I,Z,D,ae,le]})};function ge(e,t){e&1&&(i(0,"th",18),m(1," S.N. "),n())}function Te(e,t){if(e&1&&(i(0,"td",19),m(1),n()),e&2){let o=t.index;a(),f(" ",o+1," ")}}function Ve(e,t){e&1&&(i(0,"th",18),m(1," ID. "),n())}function Ne(e,t){if(e&1&&(i(0,"td",19),m(1),n()),e&2){let o=t.$implicit;a(),f(" ",o.employeeId," ")}}function Re(e,t){e&1&&(i(0,"th",18),m(1," Employee Name "),n())}function Fe(e,t){if(e&1&&(i(0,"td",19),m(1),n()),e&2){let o=t.$implicit;a(),f(" ",o.employeeName," ")}}function ke(e,t){e&1&&(i(0,"th",18),m(1," Employee Email Id "),n())}function $e(e,t){if(e&1&&(i(0,"td",19),m(1),n()),e&2){let o=t.$implicit;a(),f(" ",o.emailId," ")}}function Oe(e,t){e&1&&(i(0,"th",18),m(1," Employee Department "),n())}function Ae(e,t){if(e&1&&(i(0,"td",19),m(1),n()),e&2){let o=t.$implicit;a(),f(" ",o.deptName," ")}}function je(e,t){e&1&&(i(0,"th",18),m(1," Employee Role "),n())}function Ge(e,t){if(e&1&&(i(0,"td",19),m(1),n()),e&2){let o=t.$implicit;a(),f(" ",o.role," ")}}function He(e,t){e&1&&(i(0,"th",18),m(1," Employee Mobile "),n())}function Be(e,t){if(e&1&&(i(0,"td",19),m(1),n()),e&2){let o=t.$implicit;a(),f(" ",o.contactNo," ")}}function qe(e,t){e&1&&(i(0,"th",18),m(1," Actions "),n())}function Pe(e,t){if(e&1){let o=q();i(0,"td",19)(1,"button",20),E("click",function(){let _=R(o).$implicit,v=A();return F(v.onEdit(_.employeeId))}),i(2,"mat-icon"),m(3,"edit"),n()(),i(4,"button",21),E("click",function(){let _=R(o).$implicit,v=A();return F(v.onDelete(_.employeeId))}),i(5,"mat-icon"),m(6,"delete"),n()()()}}function Le(e,t){e&1&&u(0,"tr",22)}function Ue(e,t){e&1&&u(0,"tr",23)}var g=class e{constructor(t,o){this.empSrv=t;this.router=o}AllEmployeeData;dataSource=new _e;ngOnInit(){this.empSrv.GellAllEmployee().subscribe(t=>{this.AllEmployeeData=t.data,this.dataSource.data=this.AllEmployeeData})}displayedColumns=["sn","empId","empName","empEmailId","department","role","mobile","actions"];onDelete(t){this.empSrv.DeleteEmployee(t).subscribe(o=>{alert(o.message)})}onEdit(t){this.empSrv.ActiveEmployeeEditMode(),this.empSrv.setEmployeeToEdit(t),this.router.navigate(["/dashboard/create-employee"])}static \u0275fac=function(o){return new(o||e)(y(w),y(x))};static \u0275cmp=h({type:e,selectors:[["app-view-employee"]],decls:33,vars:4,consts:[[1,"col-12","my-3"],[1,"m-2"],[1,"row"],[1,"col-11","my-3","mx-auto"],["tabindex","0",1,"example-container","mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","sn"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","empId"],["matColumnDef","empName"],["matColumnDef","empEmailId"],["matColumnDef","department"],["matColumnDef","role"],["matColumnDef","mobile"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,l){o&1&&(i(0,"div",0)(1,"h3",1),m(2,"Employee Data"),n(),i(3,"div",2)(4,"div",3)(5,"section",4)(6,"table",5),c(7,6),r(8,ge,2,0,"th",7)(9,Te,2,1,"td",8),s(),c(10,9),r(11,Ve,2,0,"th",7)(12,Ne,2,1,"td",8),s(),c(13,10),r(14,Re,2,0,"th",7)(15,Fe,2,1,"td",8),s(),c(16,11),r(17,ke,2,0,"th",7)(18,$e,2,1,"td",8),s(),c(19,12),r(20,Oe,2,0,"th",7)(21,Ae,2,1,"td",8),s(),c(22,13),r(23,je,2,0,"th",7)(24,Ge,2,1,"td",8),s(),c(25,14),r(26,He,2,0,"th",7)(27,Be,2,1,"td",8),s(),c(28,15),r(29,qe,2,0,"th",7)(30,Pe,7,0,"td",8),s(),r(31,Le,1,0,"tr",16)(32,Ue,1,0,"tr",17),n()()()()()),o&2&&(a(6),d("dataSource",l.dataSource),a(25),d("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),a(),d("matRowDefColumns",l.displayedColumns))},dependencies:[I,D,re,de,fe,ce,pe,ye,se,ue,Ee,Ce],styles:["th[_ngcontent-%COMP%]{background-color:#0ff!important}"]})};var ze=[{path:"",redirectTo:"view-employee",pathMatch:"full"},{path:"create-employee",component:M},{path:"view-employee",component:g}],T=class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=b({type:e});static \u0275inj=S({imports:[j.forChild(ze),j]})};var Se=class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=b({type:e});static \u0275inj=S({imports:[P,X,T,ve]})};export{Se as EmployeeModule};
